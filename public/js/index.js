!function(e){var t={};function n(s){if(t[s])return t[s].exports;var l=t[s]={i:s,l:!1,exports:{}};return e[s].call(l.exports,l,l.exports,n),l.l=!0,l.exports}n.m=e,n.c=t,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)n.d(s,l,function(t){return e[t]}.bind(null,l));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e){e.exports=JSON.parse('{"menu":[{"name":"Basic Link","slug":"","link":"/","sub":null},{"name":"Item with classes","slug":"item-with-classes","link":"/item-with-classes","sub":null,"classes":["test-class","another-class","last-class"]},{"name":"Link with complete submenu","slug":"link-with-complete-submenu","link":"/link-with-complete-submenu","sub":[{"name":"Submenu Item 1","slug":"submenu-item-1","link":"/submenu-item-1","sub":[{"name":"Grandchild 1","slug":"grandchild-1","link":"/submenu-item-1/grandchild-1","sub":null},{"name":"Grandchild 2","slug":"grandchild-2","link":"/submenu-item-1/grandchild-2","sub":null}]},{"name":"Submenu Item 2","slug":"submenu-item-2","link":"/submenu-item-2","sub":null}]},{"name":"Link with non-null submenu","slug":"link-with-non-null-submenu","link":"/link-with-non-null-submenu","sub":[]},{"name":"Non-linked Item","slug":"non-linked-item"},{"name":"Non-linked Item with empty link","slug":"non-linked-item-with-empty-link","link":""},{"name":"Non-linked Item with Submenu","slug":"non-linked-item-with-submenu","link":"","sub":[{"name":"Child 1","slug":"child-1","link":"/child-1"},{"name":"Child 2","slug":"child-2","link":"/child-2"}]},{"name":"Link w/ # & Submenu","slug":"link-with-hash-and-submenu","link":"#","sub":[{"name":"Child 1","slug":"child-1","link":"/child-1"},{"name":"Child 2","slug":"child-2","link":"/child-2"}]}]}')},function(e,t,n){"use strict";n.r(t);const s=(e,t)=>{const n=t.map((e,t)=>{let n=[];const l=document.createElement("li");if(l.innerHTML=(e=>{let t=!1,n=!1;return e.hasOwnProperty("sub")&&null!==e.sub&&e.sub.length&&(t=!0),e.hasOwnProperty("link")&&e.link.length&&"#"!==e.link&&(n=!0),n&&t?`<a class='am-submenu-link' aria-label='${e.name}, tab to the next button to expand the sub-menu' href=${e.link}>${e.name}</a><button class='am-submenu-button am-submenu-toggle' aria-haspopup='true' aria-expanded='false' aria-label='show submenu'><span class='am-submenu-icon' aria-hidden='true' data-before='∨'></span></button>`:!n||!n&&t?`<button aria-haspopup='true' aria-expanded='false' class='am-submenu-toggle'>${e.name}<span class='am-submenu-icon' aria-hidden='true' data-before='∨'></span></button>`:`<a href=${e.link}>${e.name}</a>`})(e),e.hasOwnProperty("classes")&&null!==e.classes&&e.classes.length?(n=e.classes,n.push("no-js")):n.push("no-js"),l.classList.add(...n),e.hasOwnProperty("sub")&&null!==e.sub&&e.sub.length){l.setAttribute("data-has-children","true");const t=document.createElement("ul");return t.classList.add("am-submenu-list"),t.id="am-submenu-"+e.slug,s(t,e.sub),l.appendChild(t),l}return l});return n.forEach((t,s)=>{e.appendChild(n[s])}),n};var l=class{constructor({menuId:e="am-main-menu",click:t=!1}={}){this.menu=null,this.menuId=e,this.click=t,this.currentItem=null}removeNoJs(){Array.from(this.menu.querySelectorAll(".no-js")).map(e=>e.classList.remove("no-js"))}getCurrentTopLevelItem(e){if(null!==e)return e.closest(`#${this.menuId} > li`)}toggleCurrentTopLevelItemClass(e){return Array.from(document.querySelectorAll(`#${this.menuId} > li`)).map(t=>{if(t.classList.remove("am-current-item"),t.contains(e))return t.classList.add("am-current-item"),t}).filter(e=>{if(void 0!==e)return e})[0]}manageSubmenuState(e){Array.from(this.menu.querySelectorAll(".am-submenu-toggle")).map(t=>{const n=t.parentElement.parentElement.previousElementSibling,s=t.nextElementSibling,l=t.isSameNode(e),a=t.getAttribute("aria-expanded");let i;s&&(l&&"false"===a&&n?(i=n.nextElementSibling,n.setAttribute("aria-expanded","true"),t.setAttribute("aria-expanded","true"),i.classList.add("am-submenu-list-open"),s.classList.add("am-submenu-list-open")):l&&"true"===a&&n?(i=n.nextElementSibling,n.setAttribute("aria-expanded","true"),t.setAttribute("aria-expanded","false"),i.classList.add("am-submenu-list-open"),s.classList.remove("am-submenu-list-open")):l&&"false"===a?(t.setAttribute("aria-expanded","true"),s.classList.add("am-submenu-list-open")):(t.setAttribute("aria-expanded","false"),s.classList.remove("am-submenu-list-open")))})}clearSubmenuClass(e){const t=Array.from(document.querySelectorAll(".am-submenu-list-open"));e.closest(".am-submenu-toggle")||t.map(e=>e.classList.remove("am-submenu-list-open"))}clearAllAriaExpanded(e){const t=Array.from(document.querySelectorAll(".am-submenu-toggle"));e.closest(".am-submenu-toggle")||t.map(e=>e.setAttribute("aria-expanded","false"))}clearAll({target:e}){this.clearSubmenuClass(e),this.clearAllAriaExpanded(e),document.removeEventListener("click",this.clearAll.bind(this)),document.removeEventListener("focusin",this.clearAll.bind(this)),document.removeEventListener("keydown",this.clearAll.bind(this))}setMenuEventListeners(){let e=["focusin","keydown"];if(this.click){e.push("click");[].slice.call(this.menu.querySelectorAll(".am-submenu-list")).forEach(e=>e.classList.add("am-click-menu"))}for(let t=0;t<e.length;t++)this.menu.addEventListener(e[t],e=>{this.eventDispatcher(e)})}setDocumentEventListeners(e){"true"===e.getAttribute("aria-expanded")&&(this.clearAll=this.clearAll.bind(this),document.addEventListener("click",this.clearAll),document.addEventListener("focusin",e=>{this.menu.contains(e.target)||this.clearAll({target:document.body})}),document.addEventListener("keydown",e=>{27===e.which&&this.clearAll({target:document.body})}))}eventDispatcher(e){switch(e.type){case"focusin":this.focusInHandler(e);break;case"click":this.clickHandler(e);break;default:return}}clickHandler({target:e}){"button"===e.localName&&(this.toggleCurrentTopLevelItemClass(e),this.manageSubmenuState(e),this.setDocumentEventListeners(e))}focusInHandler({target:e,relatedTarget:t}){const n=this.toggleCurrentTopLevelItemClass(e);this.menu.contains(t)&&!n.contains(t)&&this.clearAll({target:document.body})}init(){this.menu=document.getElementById(this.menuId),this.removeNoJs(),this.setMenuEventListeners()}};const a=document.querySelectorAll('nav[id^="am-"]'),i=n(0),u=document.getElementById("am-main-menu");s(u,i.menu);const r=new l({click:!0});document.addEventListener("DOMContentLoaded",e=>{Prism.highlightAll(),r.init()}),a.forEach(e=>{e.addEventListener("click",e=>{"a"===e.target.localName&&(e.preventDefault(),alert("Sorry but the links in these menus don't go anywhere."))})})}]);